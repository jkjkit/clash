port: 7890
socks-port: 7891
mixed-port: 7892
redir-port: 7893
tproxy-port: 7894

unified-delay: true
geodata-mode: false
geodata-loader: standard
geo-auto-update: true
geo-update-interval: 24
tcp-concurrent: true
find-process-mode: strict
global-client-fingerprint: chrome

allow-lan: true
mode: rule
log-level: info
ipv6: true
udp: true

external-controller: 0.0.0.0:9090

sniffer:
  enable: true
  force-dns-mapping: true
  parse-pure-ip: true
  override-destination: true

dns:
  enable: true
  prefer-h3: true
  listen: 0.0.0.0:1053
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-range: 28.0.0.1/8
  fake-ip-filter:
    - "*"
    - +.lan
  default-nameserver:
    - 223.5.5.5
    - 223.6.6.6
  nameserver:
    - https://223.5.5.5/dns-query
    - https://223.6.6.6/dns-query

proxies:

# é”šç‚¹ - èŠ‚ç‚¹è®¢é˜…çš„å‚æ•° [æ¯24å°æ—¶æ›´æ–°ä¸€æ¬¡è®¢é˜…èŠ‚ç‚¹ï¼Œæ¯ 60 ç§’ä¸€æ¬¡å¥åº·æ£€æŸ¥]
NodeParam: &NodeParam {type: http, interval: 86400, health-check: {enable: true, url: 'http://connectivitycheck.gstatic.com/generate_204', interval: 60}}

# é”šç‚¹ - èŠ‚ç‚¹è®¢é˜…
proxy-providers: 
  æˆ‘çš„èŠ‚ç‚¹:
    url: 'urlåœ°å€'
    <<: *NodeParam
    path: './proxy_provider/Providers.yaml'

# é”šç‚¹ - æ•…éšœè½¬ç§»å‚æ•° [æ¯ 10 ç§’ä¸€æ¬¡æƒ°æ€§å¥åº·æ£€æŸ¥ï¼Œæ—¶å»¶è¶…è¿‡ 3 ç§’åˆ¤å®šä¸ºå¤±è´¥ï¼Œå¤±è´¥ 3 æ¬¡åˆ™è‡ªåŠ¨è§¦å‘å¥åº·æ£€æŸ¥]
FallBack: &FallBack {type: fallback, interval: 10, lazy: true, url: 'http://connectivitycheck.gstatic.com/generate_204', disable-udp: false, timeout: 3000, max-failed-times: 3, hidden: true, include-all-providers: true}
# é”šç‚¹ - è§„åˆ™å‚æ•° [æ¯å¤©æ›´æ–°ä¸€æ¬¡è®¢é˜…è§„åˆ™ï¼Œæ›´æ–°è§„åˆ™æ—¶ä½¿ç”¨Proxyç­–ç•¥]
RuleSet: &RuleSet {type: http, behavior: classical, interval: 86400, format: yaml, proxy: Proxy}

# é”šç‚¹ - èŠ‚ç‚¹ç­›é€‰
proxy-providers-filter:
  proxy-filter-Local: &proxy-filter-Local ''
  proxy-filter-HK: &proxy-filter-HK 'é¦™æ¸¯|HK|HongKong'
  proxy-filter-TW: &proxy-filter-TW 'å°æ¹¾|TW|Taiwan'
  proxy-filter-US: &proxy-filter-US 'ç¾å›½|US|United States|America'
  proxy-filter-UK: &proxy-filter-US 'è‹±å›½|UK|United Kingdom|England'
  proxy-filter-JP: &proxy-filter-JP 'æ—¥æœ¬|JP|Japan'
  proxy-filter-KR: &proxy-filter-KR 'éŸ©å›½|KR|Korean'
  proxy-filter-SG: &proxy-filter-HK 'æ–°åŠ å¡|SG|Singapore'

#ç­–ç•¥ç»„
proxy-groups:
  - {name: Proxy, type: select, proxies: [ğŸ‡­ğŸ‡° HK,ğŸ‡¹ğŸ‡¼ TW,ğŸ‡ºğŸ‡¸ US,ğŸ‡¬ğŸ‡§ UK,JP,ğŸ‡°ğŸ‡· KR,ğŸ‡¸ğŸ‡¬ SG], icon: 'https://raw.githubusercontent.com/pompurin404/mihomo-party/master/resources/icon.png'}
  - {name: ğŸ‡­ğŸ‡° HK, <<: *FallBack, filter: *FilterHK}
  - {name: ğŸ‡¹ğŸ‡¼ TW, <<: *FallBack, filter: *FilterTW}
  - {name: ğŸ‡ºğŸ‡¸ US, <<: *FallBack, filter: *FilterUS}
  - {name: ğŸ‡¬ğŸ‡§ UK, <<: *FallBack, filter: *FilterUK}
  - {name: ğŸ‡°ğŸ‡· KR, <<: *FallBack, filter: *FilterFR}
  - {name: ğŸ‡¯ğŸ‡µ JP, <<: *FallBack, filter: *FilterJP}

#è®¢é˜…è§„åˆ™
rule-providers:
  Adblock:
    <<: *RuleSet
    url: 'https://cdn.jsdelivr.net/gh/jkjkit/clash@main/Filter/AdBlock.yml'
    path: './RuleSet/AdBlock.yml'

  China:
    <<: *RuleSet
    url: 'https://cdn.jsdelivr.net/gh/jkjkit/clash@main/Filter/China.yml'
    path: './RuleSet/China.yml'

  Direct:
    <<: *RuleSet
    url: 'https://cdn.jsdelivr.net/gh/jkjkit/clash@main/Filter/Direct.yml'
    path: './RuleSet/Direct.yml'

  DownloadClient:
    <<: *RuleSet
    url: 'https://cdn.jsdelivr.net/gh/jkjkit/clash@main/Filter/DownloadClient.yml'
    path: './RuleSet/DownloadClient.yml'

  Github:
    <<: *RuleSet
    url: 'https://cdn.jsdelivr.net/gh/jkjkit/clash@main/Filter/Github.yml'
    path: './RuleSet/Github.yml'

  Google:
    <<: *RuleSet
    url: 'https://cdn.jsdelivr.net/gh/jkjkit/clash@main/Filter/Google.yml'
    path: './RuleSet/Google.yml'

  Microsoft:
    <<: *RuleSet
    url: 'https://cdn.jsdelivr.net/gh/jkjkit/clash@main/Filter/Microsoft.yml'
    path: './RuleSet/Microsoft.yml'

  Proxy:
    <<: *RuleSet
    url: 'https://cdn.jsdelivr.net/gh/jkjkit/clash@main/Filter/Proxy.yml'
    path: './RuleSet/Proxy.yml'

  ProxyClient:
    <<: *RuleSet
    url: 'https://cdn.jsdelivr.net/gh/jkjkit/clash@main/Filter/ProxyClient.yml'
    path: './RuleSet/ProxyClient.yml'

  Telegram:
    <<: *RuleSet
    url: 'https://cdn.jsdelivr.net/gh/jkjkit/clash@main/Filter/Telegram.yml'
    path: './RuleSet/Telegram.yml'

  Tencent:
    <<: *RuleSet
    url: 'https://cdn.jsdelivr.net/gh/jkjkit/clash@main/Filter/Tencent.yml'
    path: './RuleSet/Tencent.yml'

  Twitter:
    <<: *RuleSet
    url: 'https://cdn.jsdelivr.net/gh/jkjkit/clash@main/Filter/Twitter.yml'
    path: './RuleSet/Twitter.yml'

  YouTube:
    <<: *RuleSet
    url: 'https://cdn.jsdelivr.net/gh/jkjkit/clash@main/Filter/Youtube.yml'
    path: './RuleSet/YouTube.yml'

#åˆ†æµè§„åˆ™
rules:
  - RULE-DownloadClient,DownloadClient
  - RULE-AdBlock.AdBlock
  - RULE-SET,China,China
  - RULE-SET,Tencent,Tencent
  - RULE-SET,Microsoft,Microsoft
  - RULE-SET,Github,Github
  - RULE-SET,Google,Google
  - RULE-SET,YouTube,YouTube
  - RULE-SET,Twitter,Twitter
  - RULE-SET,Telegram,Telegram
  - RULE-SET,Proxy,Proxy
  - RULE-SET,Direct,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,Other
